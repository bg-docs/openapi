# Transactions And Orders

<h2 id="Create new order">POST to create a new order</h2>


Orders can only be placed if your account has sufficient funds.


**Speed limit: 10 times/s**

**Speed limit rules: ApiKey**

**HTTP request**

POST [HOST](#HTTP-HOST)/v1/orders


> Authentication information

> For authentication information of private information, please refer to [Authentication Instructions](#auth)

> <a name="ResonpseExample">REQUEST EXAMPLE</a>

```json
{
  "product": "BTC_USDT",
  "side": "buy",
  "type": "limit",
  "stp": "dc",
  "price": "2.00",
  "size": "3.3000000000000000000",
  "client_oid": "QZ_2020-jj"
}
```

<aside>
REQUEST PARAMETERS
</aside>

**common parameters**

`product`: Must be an existing product. For example `BTC_USD`. A list of products is available via [products](#Products).

`side`: `buy` buys, `sell` sells.

`type`: order type

- `limit`: limit order
- `market`: market order

`client_oid`: Optional, default "0", user-defined order number, used for users to manage their own orders. The ID is non-unique, a string type with a length of no more than 64 characters, and must be composed of elements in uppercase and lowercase letters A-Z/a-z, numbers 0-9, underline_, and dash-, and special symbols other than those are not supported

`stp`: ie `self trade prevention`. BGE prohibits users from dealing with themselves. Users can use the `stp` option to specify the order processing strategy when the self-transaction scenario occurs.

- `dc`: ie `decrease and cancel` (default). When matching occurs with the same user order matching, the party with the larger quantity will be executed with the `decrease` command, and the party with the smaller amount will be executed with the `cancel` command. decrease or
  Or the quantity of cancel is the minimum value of the self-dealing matching of two orders.
- `co`: ie `cancle oldest`, when matching occurs with the same user order matching, the earlier pending order will be executed `cancle` command. New orders will continue to execute the normal transaction matching process.
- `cn`: that is `cancle newest`, when matching occurs with the same user order matching, the latest order will be executed `cancle` command, the earlier pending order still stays in the order book, and the normal transaction matching process will be executed.
- `cb`: that is `cancle both`, when the matching of the same user order occurs, the two matching orders will be executed `cancle` command.

`time_in_force`: optional, transaction command, currently supports `GTC`. The default is `GTC`

**limit order parameters**

`price`: item price

`size`: the quantity to buy or sell

**market order parameters**

`size`: expected transaction size. Require `side` to be `sell`, which means selling at the latest transaction price and expecting the maximum number of items sold.

`funds`: Expected transaction amount. `side` needs to be `buy`, which means buying at the latest transaction price and expecting to spend the maximum amount of assets.

| Parameter name | Parameter description | Required | Data type |
| -------- | -------- | -------- | -------- |
|product|commodity, for example: ETH_USD|true|string|
|side|buy/sell|true|string|
|type|limit: limit order/market: market order|true|string|
|stp|Self-transaction: dc: reduce and cancel (default) co: cancel the oldest cn: cancel the newest cb: cancel both |true|string|
|time_in_force|trade command,GTC|false|string|
|funds|Amount of quote currency to use |false|string|
|price|price per coin|false|string|
|size|Amount to buy or sell|false|string|
|client_oid|User-defined order number|false|string|

> <a name="ResonpseExample">RESPONSE EXAMPLE</a>

```json

{
  "order_id": 129149436110880967,
  "client_oid": "Order_ower_1233"
}

```

<aside>
RESPONSE PARAMETERS
</aside>

`order_id`: the order number generated by BGE

`client_oid`: user-defined order number

| Parameter name | Parameter description | Type |
| -------- | -------- | ----- |
|order_id|The order number generated by BGE|string|
|client_oid|User-defined order number, default "0"|string|


<h2 id="Query a single order according to the system order number">GET query a single order according to the system order number</h2>

Get the specified order information.

**Speed limit: 10 times/s**

**Speed limit rules: ApiKey**

**HTTP request**

GET [HOST](#HTTP-HOST)/v1/orders/{order_id}


<a name="order_detail"></a>

> Authentication information

> For authentication information of private information, please refer to [Authentication Instructions](#auth)

<aside>
REQUEST PARAMETERS
</aside>

| Parameter name | Parameter description | Required | Data type |
| -------- | ----- | -------- | -------- |
|order_id|order ID|true|string||


<a name="order_detail_demo"></a>
> <a name="ResonpseExample">RESPONSE EXAMPLE</a>

```json
{
  "filled_size": "0.0000000000000000000",
  "filled_fees": "1.00",
  "filled_amount": "0.000000000000000000",
  "filled_average_price": "0",
  "created_at": "2021-12-14T03:19:15Z",
  "updated_at": "2022-01-04T06:57:34Z",
  "price": "2.00",
  "size": "3.3000000000000000000",
  "product": "BTC_USDT",
  "order_id": "127738628653088481",
  "funds": "0.0000000000000000000",
  "type": "limit",
  "side": "buy",
  "status": "7",
  "client_oid": "QZ_2020-jj"
}
```

<aside>
RESPONSE PARAMETERS
</aside>

`status`: transaction status, value range 0-7

- 0: order has been received
- 1: The order has been submitted
- 2: The order is partially executed
- 3: The order has been completely filled
- 4: The order is canceled
- 5: The order has been canceled
- 6: Order transaction failed
- 7: The order is reduced

| Parameter name | Parameter description | Type |
| -------- | -------- | ----- |
|filled_fees|filling fee|string|
|filled_size|transaction amount|string|
|filled_amount|Amount of transaction|string|
|filled_average_price|average transaction price|string|
|funds|Amount of quote currency to use |string|
|order_id|order number|string|
|price|price per unit of base currency|string|
|product|product|string|
|side|buy/sell|string|
|size|Amount of base currency to buy/sell |string|
|status|status|string|
|type|limit: limit order/market: market order|string|
|created_at|created time|string|
|updated_at|updated time|string|
|client_oid|User-defined order number|string|

<h2 id="Query a single order by user-defined order number">GET Query a single order by user-defined order number</h2>

When the custom order corresponds to multiple system orders, only the latest system order will be returned.

**Speed limit: 10 times/s**

**Speed limit rules: ApiKey**

**HTTP request**

GET [HOST](#HTTP-HOST)/v1/orders/single/{client_oid}


<a name="order_detail"></a>


> Authentication information

> For authentication information of private information, please refer to [Authentication Instructions](#auth)

<aside>
REQUEST PARAMETERS
</aside>

| Parameter name | Parameter description | Required | Data type |
| -------- | ----- | -------- | -------- |
|client_oid|User-defined order number|true|string|

`client_oid`: When the custom order corresponds to multiple system orders, only the latest system order will be returned

> <a name="ResonpseExample">RESPONSE EXAMPLE</a>

```json
{
  "filled_size": "0.0000000000000000000",
  "filled_fees": "1.00",
  "filled_amount": "0.000000000000000000",
  "filled_average_price": "0",
  "created_at": "2021-12-14T03:19:15Z",
  "updated_at": "2022-01-04T06:57:34Z",
  "price": "2.00",
  "size": "3.3000000000000000000",
  "product": "BTC_USDT",
  "order_id": "127738628653088481",
  "funds": "0.0000000000000000000",
  "type": "limit",
  "side": "buy",
  "status": "7",
  "client_oid": "QZ_2020-jj"
}
```

<aside>
RESPONSE PARAMETERS
</aside>

`status`: transaction status, value range 0-7

- 0: order has been received
- 1: The order has been submitted
- 2: The order is partially executed
- 3: The order has been completely filled
- 4: The order is canceled
- 5: The order has been canceled
- 6: Order transaction failed
- 7: The order is reduced

| Parameter name | Parameter description | Type |
| -------- | -------- | ----- |
|filled_fees|filling fee|string|
|filled_size|transaction amount|string|
|filled_amount|Amount of transaction|string|
|filled_average_price|average transaction price|string|
|funds|Amount of quote currency to use |string|
|order_id|order number|string|
|price|price per unit of base currency|string|
|product|product|string|
|side|buy/sell|string|
|size|Amount of base currency to buy/sell |string|
|status|status|string|
|type|limit: limit order/market: market order|string|
|created_at|created time|string|
|updated_at|updated time|string|
|client_oid|User-defined order number|string|


<a name="order_detail_demo"></a>

<h2 id="Get Transaction Details">GET Get Transaction Details</h2>

Qualified transaction details can be obtained according to different query conditions

**Speed limit: 10 times/s**

**Speed limit rules: ApiKey**

**HTTP request**

GET [HOST](#HTTP-HOST)/v1/fills

> Authentication information

> For authentication information of private information, please refer to [Authentication Instructions](#auth)

<aside>
REQUEST PARAMETERS
</aside>


- If `order_id` exists, the transaction details of the order will be searched first, and other parameters will be ignored.
- If `order_id` does not exist, all transaction details of the store will be queried in pagination according to the parameter combination. Among them, the maximum value of `limit` is 1000, and the order details of more than 1000 items will not be queried
- If `order_id` exists, the query condition ignores client_oid
- When `client_oid` corresponds to multiple system orders, only the details of the latest system order will be returned

| Parameter name | Parameter description | Required | Data type |
| -------- | -------- | -------- | -------- |
|after| is used for pagination. Set end cursor to after date. |false|integer(int64)|
|before| is used for pagination. set start cursor to before date |false|integer(int64)|
|limit|limits the number of returned results, the default is 100, the maximum is 1000|false|integer(int32)|
|product|product id|false|string|
|order_id|order id|false|string|
|client_oid|User-defined order number|false|string|

> <a name="ResonpseExample">RESPONSE EXAMPLE</a>

```json
[
  {
    "product": "BTC_USDT",
    "order_id": "12808732377541664481",
    "liquidity": "maker",
    "price": "19.5600000000000000000",
    "size": "0.937686000000000000",
    "fee": "0",
    "created_at": "2022-01-04T10:17:03Z",
    "updated_at": "2022-01-04T10:17:03Z",
    "side": "sell"
  }
]
```

<aside>
RESPONSE PARAMETERS
</aside>

| Parameter name | Parameter description | Type |
| -------- | -------- | ----- |
|created_at|order creation time|string|
|updated_at|order update time|string|
|fee|The fee paid according to the current amount filled in|string|
|liquidity|liquidity: marker, taker|string|
|order_id|order number|string|
|price|price per unit of base currency|string|
|product|product number|string|
|side| buy/sell |string|
|size|Amount of base currency to buy/sell |string|

<a name="fills_detail_demo"></a>

<h2 id="Get current unfinished orders">GET Get current unfinished orders</h2>

Get orders that have not been executed

**Speed limit: 10 times/s**

**Speed limit rules: ApiKey**

**HTTP request**

GET [HOST](#HTTP-HOST)/v1/orders


> Authentication information

> For authentication information of private information, please refer to [Authentication Instructions](#auth)

<aside>
REQUEST PARAMETERS
</aside>

This interface can query the details of a single order, or multiple orders based on the product

- If `order_id` exists, the order details will be searched first, other parameters will be ignored.
- If `order_id` does not exist, all order details will be queried in pagination according to the parameter combination. Among them, the maximum value of `limit` is 1000, and the order details of more than 1000 items will not be queried
- If `order_id` exists, the query condition ignores client_oid

| Parameter name | Parameter description | Required | Data type |
| -------- | -------- | -------- | -------- |
|after| is used for pagination. Set end cursor to after date. |false|integer(int64)|
|before| is used for pagination. set start cursor to before date |false|integer(int64)|
|limit|limits the number of returned results, the default is 100, the maximum is 1000|false|integer(int32)|
|order_id|order id|false|string|
|client_oid|User-defined order number|false|string|
|product|product id|false|string|

> <a name="ResonpseExample">RESPONSE EXAMPLE</a>

 ```json
[
  {
    "price": "19.5600000000000000000",
    "size": "35.447206000000000000",
    "product": "BTC_USDT",
    "order_id": "128087977541664481",
    "funds": "592.668000000000000000",
    "type": "limit",
    "side": "sell",
    "status": "2"
  }
]
```

<aside>
RESPONSE PARAMETERS
</aside>

`status`: transaction status, value range 0-7

- 0: order has been received
- 1: The order has been submitted
- 2: The order is partially executed
- 3: The order has been completely filled
- 4: The order is canceled
- 5: The order has been canceled
- 6: Order transaction failed
- 7: The order is reduced

| Parameter name | Parameter description | Type |
| -------- | -------- | ----- |
|funds|Amount of quote currency to use |string|
|order_id|order number|string|
|price|price per unit of base currency|string|
|product|product number|string|
|side|buy/sell|string|
|size|Amount of base currency to buy/sell |string|
|status|status|string|
|type|limit: limit order/market: market order|string|



<a name="order_trade_detail_demo"></a>

<h2 id="Cancel a single order according to the system order number">DELETE Cancel a single order according to the system order number</h2>


Cancel the specified outstanding order

**Speed limit: 10 times/s**

**Speed limit rules: ApiKey**

**HTTP request**

DELETE [HOST](#HTTP-HOST)/v1/orders/{order_id}


> Authentication information

> For authentication information of private information, please refer to [Authentication Instructions](#auth)

<aside>
REQUEST PARAMETERS
</aside>

| Parameter name | Parameter description | Required | Data type |
| -------- | -------- | -------- | -------- |
|order_id|order id|true|string|


<a name="order_trade_detail_demo"></a>

> <a name="ResonpseExample">RESPONSE EXAMPLE</a>

```json
"1277087538632480481"
```

<aside>
RESPONSE PARAMETERS
</aside>
| Parameter name | Parameter description | Data type |
| -------- | -------- | -------- |
|order_id|order id|string|

<h2 id="Cancel a single order according to the user-defined order number">DELETE Cancel a single order according to the user-defined order number</h2>


A single order can be canceled. If the custom order corresponds to multiple system orders, cancel the latest order. If the cancellation application is successful, the corresponding system order number will be returned.

**Speed limit: 10 times/s**

**Speed limit rules: ApiKey**

**HTTP request**

DELETE [HOST](#HTTP-HOST)/v1/orders/single/{client_oid}


> Authentication information

> For authentication information of private information, please refer to [Authentication Instructions](#auth)

<aside>
REQUEST PARAMETERS
</aside>


| Parameter name | Parameter description | Required | Data type |
| -------- | -------- | -------- | -------- |
|client_oid|User-defined order number|true|string|


<a name="order_trade_detail_demo"></a>

> <a name="ResonpseExample">RESPONSE EXAMPLE</a>

```json
"1277087538632480481"
```
<aside>
RESPONSE PARAMETERS
</aside>

A list of IDs of orders that are about to be canceled

<h2 id="Cancel all orders by item">DELETE Cancel all orders by item</h2>


This method is an asynchronous method. When the user receives the interface return, it does not mean that all orders have been canceled successfully. After BGE receives the request, it will query all unfilled orders corresponding to the commodity ID under the user account, and cancel these orders asynchronously.
Users can query the transaction status of a single order through [/orders/{order_id}](#order_detail).

**Speed limit: 10 times/s**

**Speed limit rules: ApiKey**

**HTTP request**

DELETE [HOST](#HTTP-HOST)/v1/orders


<aside>
REQUEST PARAMETERS
</aside>

`product`: the product ID to be revoked, such as "BTC_USD"

| Parameter name | Parameter description | Required | Data type |
| -------- | ----- | -------- | -------- |
|product|commodity|true|string||

<aside>
RESPONSE PARAMETERS
</aside>

A list of IDs of orders that are about to be canceled
