# Trading and Orders

## Create New Orders

<font class="httppost">POST</font> */v1/orders*


<aside>
REQUEST PARAMETERS
</aside>

**common parameters**

`product`: Must be an existing product id. For example, `BTC_USD`. The list of products is available via  [products](#Products).

`side`:  `buy` is buy, `sell` is sell.

`type`: Order type

- `limit`: Limit order
- `market`: Market order

`client_oid`: Optional and is “0” by default. A User-defined Order ID enables users to manage their own orders. The ID is a non-unique string type with a length of no more than 64 characters. It must be composed of uppercase or lowercase letters A-Z/a-z, numbers 0-9, underscore_ or hyphen-. Special symbols other than the above are not supported.

`stp`:  i.e. `self trade prevention`。 BGE prohibits users from self-dealing. Through the `stp` option, a user may specify a strategy to process an order when the self-dealing scenario occurs.

- `dc`:  i.e. `decrease and cancel` (default). When orders by the same user are paired in order matching, the order with larger quantity will be executed with the “decrease” command, while the order with the smaller quantity will be executed with the “cancel” command.The quantity of decrease or cancel is the minimum value for which two orders are a self-dealing match.
- `co`:  i.e. `cancle oldest`, When orders by the same user are paired in order matching, the earlier pending order will be executed with the “cancel” command. The most recent order will continue to be processed through regular transaction matching.
- `cn`:  i.e. `cancle newest`, When orders by the same user are paired in order matching, the most recent order will be executed with the “cancel” command, and the earlier pending order will remain in the order book and be processed through regular transaction matching.
- `cb`:  i.e. `cancle both`,When orders by the same user are paired in order matching, both paired orders will be executed with the “cancel” command.

`time_in_force`:  An optional transaction command that currently supports `GTC`. Default value is `GTC`

**limit order parameters**

`price`: Price of the trading pair

`size`: The quantity of the trading pair to buy or sell

**market order parameters**

`size`:  The transaction quantity anticipated. The `side` required is `sell`, which represents the highest quantity of the trading pair anticipated to be sold when sold at the latest transaction price.

`funds`:  The transaction value anticipated. The `side` required is `buy`, which represents the highest asset value to be consumed when bought at the latest transaction price.

| Parameter Name | Parameter Description | Mandatory  | Data Type | Schema |
| -------- | -------- | -------- | -------- | ------ |
|product|Currency pair, for example: BTC_USDT||true|string||
|side|buy/sell||true|string||
|type|limit: limit order/market: market order||true|string||
|stp|Self-dealing - dc: decrease and cancel (default); co: cancel oldest; cn: cancel newest; cb: cancel bot||true|string||
|time_in_force|Trading command, GTC||false|string||
|funds|The amount of quotation currency desired to use||false|string||
|price|Price per coin||false|string||
|size|Quantity to buy or sell||false|string||
|client_oid|User-defined Order ID|false|string||

<aside>
RESPONSE STATUS
</aside>

Status Code | Meaning | Example
---------- | ------- | --------
200 | Success Request | [Examples](#ResonpseExample1)
401 | Unauthorized -- Your API key is wrong, See [Authentication Specifications](#Authentication Specifications) | <code>message</code> string
500 | Internal Server Error -- We had a problem with our server. Try again later. | <code>message</code> string

<aside>
RESPONSE PARAMETERS
</aside>

`order_id`:  Order ID generated by BGE

`client_oid`:  Order ID generated by BGE

| Parameter Name | Parameter Description | Type | schema          |
| -------- | -------- | ----- |----- | 
|order_id|Order ID generated by BGE|string||
|client_oid|Order ID generated by BGE，默认"0"|string||

> <a name="ResonpseExample">RESONPSE EXAMPLE</a>

```json

{
  "order_id": 129149436110880967,
  "client_oid": "Order_ower_1233"
}

```

## Query a Particular Order Based on the System Order ID

<a name="order_detail"></a>

<font class="httpget">GET</font> */v1/orders/{order_id}*

<aside>
PATH VARIABLES
</aside>

| Parameter Name | Parameter Description     | Mandatory  | Data Type | schema |
| -------- | ----- | -------- | -------- | ------ |
|order_id|Order ID|true|string||

<aside>
RESPONSE STATUS
</aside>

Status Code | Meaning | Example
---------- | ------- | --------
200 | Success Request | [Examples](#order_detail_demo)
401 | Unauthorized -- Your API key is wrong, See [Authentication Specifications](#Authentication Specifications) | <code>message</code> string
500 | Internal Server Error -- We had a problem with our server. Try again later. | <code>message</code> string

<aside>
RESPONSE PARAMETERS
</aside>

`status`: Transaction status, value range 0-7

- 0: Order received
- 1: Order submitted
- 2: Order partially filled
- 3: Order fully filled
- 4: Order being cancelled
- 5: Order cancelled
- 6: Order transaction failed
- 7: Order volume decreased

| Parameter Name | Parameter Description | Type | schema |
| -------- | -------- | ----- |----- | 
|filled_fees|Fees to fill order|string||
|filled_size|Value of filled order|string||
|filled_amount|Amount of filled order|string||
|filled_average_price|Average price of filled orders|string||
|funds|The amount of quotation currency desired to use|string||
|order_id|Order ID|string||
|price|Price per unit of base currency|string||
|product|Product ID|string||
|side|buy/sell|string||
|size|Quantity of base currency to buy/sell Status|string||
|status|Status|string||
|type|limit: limit order/market: market order|string||
|created_at|Time when created|string||
|updated_at|Time when updated|string||
|client_oid|User-defined Order ID|false|string||

<aside>
RESPONSE EXAMPLE
</aside>

<a name="order_detail_demo"></a>

```json
{
  "filled_size": "0.000000000000000000",
  "filled_fees": "1.00",
  "filled_amount": "0.000000000000000000",
  "filled_average_price": "0",
  "created_at": "2021-12-14T03:19:15Z",
  "updated_at": "2022-01-04T06:57:34Z",
  "price": "2.00",
  "size": "3.300000000000000000",
  "product": "BTC_USDT",
  "order_id": "127738628653088481",
  "funds": "0.000000000000000000",
  "type": "limit",
  "side": "buy",
  "status": "7",
  "client_oid": "QZ_2020-jj"
}
```

## Query a Particular Order Based on the User-Defined Order ID

<a name="order_detail"></a>

<font class="httpget">GET</font> */v1/orders/single/{client_oid}*

<aside>
PATH VARIABLES
</aside>

| Parameter Name | Parameter Description     | Mandatory  | Data Type | schema |
| -------- | ----- | -------- | -------- | ------ |
|client_oid|User-defined Order ID|true|string||

`client_oid`: When a user-defined Order ID matches multiple system orders, the response will only contain the most recent system order

<aside>
RESPONSE STATUS
</aside>

Status Code | Meaning | Example
---------- | ------- | --------
200 | Success Request | [Examples](#order_detail_demo)
401 | Unauthorized -- Your API key is wrong, See [Authentication Specifications](#Authentication Specifications) | <code>message</code> string
500 | Internal Server Error -- We had a problem with our server. Try again later. | <code>message</code> string

<aside>
RESPONSE PARAMETERS
</aside>

`status`: Transaction status, value range 0-7

- 0: Order received
- 1: Order submitted
- 2: Order partially filled
- 3: Order fully filled
- 4: Order being cancelled
- 5: Order cancelled
- 6: Order transaction failed
- 7: Order volume decreased

| Parameter Name | Parameter Description | Type | schema |
| -------- | -------- | ----- |----- | 
|filled_fees|Fees to fill order|string||
|filled_size|Value of filled order|string||
|filled_amount|Amount of filled order|string||
|filled_average_price|Average price of filled orders|string||
|funds|The amount of quotation currency desired to use|string||
|order_id|Order ID|string||
|price|Price per unit of base currency|string||
|product|Product ID|string||
|side|buy/sell|string||
|size|Quantity of base currency to buy/sell
Status|string||
|status|Status|string||
|type|limit: limit order/market: market order|string||
|created_at|Time of order created|string||
|updated_at|Time of order updated|string||
|client_oid|User-defined Order ID|false|string||

<aside>
RESPONSE EXAMPLE
</aside>

<a name="order_detail_demo"></a>

```json
{
  "filled_size": "0.000000000000000000",
  "filled_fees": "1.00",
  "filled_amount": "0.000000000000000000",
  "filled_average_price": "0",
  "created_at": "2021-12-14T03:19:15Z",
  "updated_at": "2022-01-04T06:57:34Z",
  "price": "2.00",
  "size": "3.300000000000000000",
  "product": "BTC_USDT",
  "order_id": "127738628653088481",
  "funds": "0.000000000000000000",
  "type": "limit",
  "side": "buy",
  "status": "7",
  "client_oid": "QZ_2020-jj"
}
```

## Obtaining Details of an Order

<font class="httpget">GET</font> */v1/fills*


<aside>
REQUEST PARAMETERS
</aside>

Query of the transaction details of a particular order and various details of the currency type is available via this interface.

- `order_id` If it exists, transaction particulars of the order will be prioritized in the query, while other parameters will be omitted.
- `order_id` If it does not exist, all transaction particulars will be queried and paginated according to the parameter combination. The maximum value of `limit` is 1000, and query of order particulars of over 1000 entries will be unavailable.
- `order_id`  If it exists, `client_oid` will be omitted in the query conditions.
- `client_oid` If it matches multiple system orders, the response will only contain details of the most recent system order

| Parameter Name | Parameter Description     | Mandatory  | Data Type | schema |
| -------- | -------- | ----- | -------- | -------- |
|after|For pagination. End cursor set as after date.|false|integer(int64)||
|before|For pagination. Start cursor set as before date|false|integer(int64)||
|limit|Limit the number of results in response, the default is 100, the maximum is 1000|false|integer(int32)||
|product|Trading Pair ID|false|string||
|order_id|Order ID|false|string||
|client_oid|User-defined Order ID|false|string||

<aside>
RESPONSE STATUS
</aside>

Status Code | Meaning | Example
---------- | ------- | --------
200 | Success Request | [Examples](#order_detail_demo)
401 | Unauthorized -- Your API key is wrong, See [Authentication Specifications](#Authentication Specifications) | <code>message</code> string
500 | Internal Server Error -- We had a problem with our server. Try again later. | <code>message</code> string

<aside>
RESPONSE PARAMETERS
</aside>

| Parameter Name | Parameter Description | Type | schema |
| -------- | -------- | ----- |----- | 
|created_at|Order creation time|string||
|updated_at|Order update time|string||
|fee|Fee paid at the amount currently filled|string||
|liquidity|Liquidity: marker, taker|string||
|order_id|Order ID|string||
|price|Price per unit of base currency|string||  
|product|Product ID|string||
|side| buy/sell |string||
|size|Quantity of base currency to buy/sell
Status|string||

<aside>
RESPONSE EXAMPLE
</aside>

<a name="fills_detail_demo"></a>

```json
[
  {
    "product": "BTC_USDT",
    "order_id": "12808732377541664481",
    "liquidity": "maker",
    "price": "19.560000000000000000",
    "size": "0.937686000000000000",
    "fee": "0",
    "created_at": "2022-01-04T10:17:03Z",
    "updated_at": "2022-01-04T10:17:03Z",
    "side": "sell"
  }
]
```

## Obtaining Currently Unfilled Orders

<font class="httpget">GET</font> */v1/orders*


<aside>
REQUEST PARAMETERS
</aside>

Query of details of a particular order or multiple orders based on the trading pair is available via this interface

- `order_id`  If it exists, details of the order will be prioritized in the query, while other parameters will be omitted.
- `order_id`  If it does not exist, all order details will be queried and paginated according to the parameter combination. The maximum value of `limit` is 1000, and query of order details of over 1000 entries will be unavailable.
- `order_id`  If it exists, `client_oid` will be omitted in the query conditions.

| Parameter Name | Parameter Description    | Mandatory  | Data Type | schema |
| -------- | -------- | ----- | -------- | -------- |
|after|For pagination. End cursor set as after date.|false|integer(int64)||
|before|For pagination. Start cursor set as before date|false|integer(int64)||
|limit|Limit the number of results in response, the default is 100, the maximum is 1000|false|integer(int32)||
|order_id|Order ID|false|string||
|client_oid|User-defined Order ID|false|string||
|product|Trading Pair ID|false|string||

<aside>
RESPONSE STATUS
</aside>

Status Code | Meaning | Example
---------- | ------- | --------
200 | Success Request | [Examples](#order_trade_detail_demo)
401 | Unauthorized -- Your API key is wrong, See [Authentication Specifications](#Authentication Specifications) | <code>message</code> string
500 | Internal Server Error -- We had a problem with our server. Try again later. | <code>message</code> string

<aside>
RESPONSE PARAMETERS
</aside>

`status`: Transaction status, value range 0-7

- 0: Order received
- 1: Order submitted
- 2:  Order partially filled
- 3: Order fully filled
- 4: Order being cancelled
- 5: Order cancelled
- 6:  Order transaction failed
- 7: Order volume decreased

| Parameter Name | Parameter Description | Type | schema |
| -------- | -------- | ----- |----- |
|funds|The amount of quotation currency desired to use|string||
|order_id|Order ID|string||
|price|Price per unit of base currency|string||
|product|Product ID|string||
|side|buy/sell|string||
|size|Quantity of base currency to buy/sell
Status|string||
|status|Status|string||
|type|limit: limit order/market: market order|string||

<aside>
RESPONSE EXAMPLE
</aside>

<a name="order_trade_detail_demo"></a>

```json
[
  {
    "price": "19.560000000000000000",
    "size": "35.447206000000000000",
    "product": "BTC_USDT",
    "order_id": "128087977541664481",
    "funds": "592.668000000000000000",
    "type": "limit",
    "side": "sell",
    "status": "2"
  }
]
```

## Cancel a Particular Order By BGE Order Id

<font class="httpdelete">DELETE</font> */v1/orders/{order_id}*


<aside>
REQUEST PARAMETERS
</aside>

A particular order can be cancelled via this interface



<aside>
RESPONSE STATUS
</aside>

Status Code | Meaning | Example
---------- | ------- | --------
200 | Success Request | [Examples](#order_trade_detail_demo)
401 | Unauthorized -- Your API key is wrong, See [Authentication Specifications](#Authentication Specifications) | <code>message</code> string
500 | Internal Server Error -- We had a problem with our server. Try again later. | <code>message</code> string

<aside>
RESPONSE PARAMETERS
</aside>

`order_id`: Order Id



<aside>
RESPONSE EXAMPLE
</aside>

<a name="order_trade_detail_demo"></a>

```json
"1277087538632480481"
```

## Cancel a Particular Order By User-defined Order ID

<font class="httpdelete">DELETE</font> */v1/orders/single/{client_oid}*


<aside>
REQUEST PARAMETERS
</aside>

此接口可撤销单个订单，若自定义订单对应多个系统订单，撤销最新一个订单，撤销申请成功，返回对应的系统订单号



<aside>
RESPONSE STATUS
</aside>

Status Code | Meaning | Example
---------- | ------- | --------
200 | Success Request | [Examples](#order_trade_detail_demo)
401 | Unauthorized -- Your API key is wrong, See [Authentication Specifications](#Authentication Specifications) | <code>message</code> string
500 | Internal Server Error -- We had a problem with our server. Try again later. | <code>message</code> string

<aside>
RESPONSE PARAMETERS
</aside>

`order_id`: User-defined Order ID



<aside>
RESPONSE EXAMPLE
</aside>

<a name="order_trade_detail_demo"></a>

```json
"1277087538632480481"
```

## Cancel All Orders

<font class="httpdelete">DELETE</font> */v1/orders*

This action is asynchronous. When the user receives the interface response, it does not mean that all orders have been successfully cancelled. After receiving the request, BGE will query all unfilled orders corresponding to the Trading Pair ID under the user account, and cancel these orders asynchronously. Users may query the transaction status of a particular order via [/orders/{order_id}](#order_detail).

<aside>
REQUEST PARAMETERS
</aside>

`product`: The Trading Pair ID being cancelled, such as "BTC_USD"

| Parameter Name | Parameter Description    | Mandatory  | Data Type | 
| -------- | -------- | ----- | -------- | 
|product|Trading Pair ID|true|string||

<aside>
RESPONSE STATUS
</aside>

Status Code | Meaning | Example
---------- | ------- | --------
200 | Success Request | [Examples](#order_trade_detail_demo)
401 | Unauthorized -- Your API key is wrong, See [Authentication Specifications](#Authentication Specifications) | <code>message</code> string
500 | Internal Server Error -- We had a problem with our server. Try again later. | <code>message</code> string

<aside>
RESPONSE PARAMETERS
</aside>

List of IDs of orders pending cancellation

```json
[
  "128527387912385665"
]
```
